import{r as f,a as N}from"./react-vendor-b94efdf2.js";/*!
 * react-paypal-js v8.7.0 (2024-09-16T17:52:54.237Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l;(function(e){e.INITIAL="initial",e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"})(l||(l={}));var p;(function(e){e.LOADING_STATUS="setLoadingStatus",e.RESET_OPTIONS="resetOptions",e.SET_BRAINTREE_INSTANCE="braintreeInstance"})(p||(p={}));var P;(function(e){e.NUMBER="number",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.EXPIRATION_MONTH="expirationMonth",e.EXPIRATION_YEAR="expirationYear",e.POSTAL_CODE="postalCode"})(P||(P={}));var i=function(){return i=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},i.apply(this,arguments)};function B(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function j(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var g="data-react-paypal-script-id",S={DATA_CLIENT_TOKEN:"dataClientToken",DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource",DATA_USER_ID_TOKEN:"dataUserIdToken"},X="Failed to load the PayPal JS SDK script.",L="paypal",Z="usePayPalScriptReducer must be used within a PayPalScriptProvider";function Q(e){return e===void 0&&(e=L),window[e]}function Y(e){for(var t="",r=0;r<e.length;r++){var n=e[r].charCodeAt(0)*r;e[r+1]&&(n+=e[r+1].charCodeAt(0)*(r-1)),t+=String.fromCharCode(97+Math.abs(n)%26)}return t}function $(e){var t=e.reactComponentName,r=e.sdkComponentKey,n=e.sdkRequestedComponents,o=n===void 0?"":n,a=e.sdkDataNamespace,s=a===void 0?L:a,u=r.charAt(0).toUpperCase().concat(r.substring(1)),c="Unable to render <".concat(t," /> because window.").concat(s,".").concat(u," is undefined."),d=typeof o=="string"?o:o.join(",");if(!d.includes(r)){var v=[d,r].filter(Boolean).join();c+=`
To fix the issue, add '`.concat(r,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(v,"'}}>`.")}return c}function k(e){var t=e,r=g;t[r];var n=B(t,[r+""]);return"react-paypal-js-".concat(Y(JSON.stringify(n)))}function H(e){var t=self.document.querySelector("script[".concat(g,'="').concat(e,'"]'));t!=null&&t.parentNode&&t.parentNode.removeChild(t)}function ee(e,t){var r,n;switch(t.type){case p.LOADING_STATUS:return typeof t.value=="object"?i(i({},e),{loadingStatus:t.value.state,loadingStatusErrorMessage:t.value.message}):i(i({},e),{loadingStatus:t.value});case p.RESET_OPTIONS:return H(e.options[g]),i(i({},e),{loadingStatus:l.PENDING,options:i(i((r={},r[S.DATA_SDK_INTEGRATION_SOURCE]=S.DATA_LIBRARY_VALUE,r),t.value),(n={},n[g]="".concat(k(t.value)),n))});case p.SET_BRAINTREE_INSTANCE:return i(i({},e),{braintreePayPalCheckoutInstance:t.value});default:return e}}var K=f.createContext(null);function te(e){if(typeof(e==null?void 0:e.dispatch)=="function"&&e.dispatch.length!==0)return e;throw new Error(Z)}function re(){var e=te(f.useContext(K)),t=i(i({},e),{isInitial:e.loadingStatus===l.INITIAL,isPending:e.loadingStatus===l.PENDING,isResolved:e.loadingStatus===l.RESOLVED,isRejected:e.loadingStatus===l.REJECTED});return[t,e.dispatch]}f.createContext({});var G=function(e){var t,r=e.className,n=r===void 0?"":r,o=e.disabled,a=o===void 0?!1:o,s=e.children,u=e.forceReRender,c=u===void 0?[]:u,d=B(e,["className","disabled","children","forceReRender"]),v=a?{opacity:.38}:{},A="".concat(n," ").concat(a?"paypal-buttons-disabled":"").trim(),h=f.useRef(null),E=f.useRef(null),_=re()[0],w=_.isResolved,R=_.options,O=f.useState(null),y=O[0],V=O[1],C=f.useState(!0),J=C[0],F=C[1],W=f.useState(null),I=W[1];function b(){E.current!==null&&E.current.close().catch(function(){})}return!((t=E.current)===null||t===void 0)&&t.updateProps&&E.current.updateProps({message:d.message}),f.useEffect(function(){if(w===!1)return b;var T=Q(R.dataNamespace);if(T===void 0||T.Buttons===void 0)return I(function(){throw new Error($({reactComponentName:G.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:R.components,sdkDataNamespace:R[S.DATA_NAMESPACE]}))}),b;var z=function(m,D){V(D),typeof d.onInit=="function"&&d.onInit(m,D)};try{E.current=T.Buttons(i(i({},d),{onInit:z}))}catch(m){return I(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(m))})}return E.current.isEligible()===!1?(F(!1),b):(h.current&&E.current.render(h.current).catch(function(m){h.current===null||h.current.children.length===0||I(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(m))})}),b)},j(j([w],c,!0),[d.fundingSource],!1)),f.useEffect(function(){y!==null&&(a===!0?y.disable().catch(function(){}):y.enable().catch(function(){}))},[a,y]),N.createElement(N.Fragment,null,J?N.createElement("div",{ref:h,style:v,className:A}):s)};G.displayName="PayPalButtons";function ne(e,t){var r=document.querySelector('script[src="'.concat(e,'"]'));if(r===null)return null;var n=q(e,t),o=r.cloneNode();if(delete o.dataset.uidAuto,Object.keys(o.dataset).length!==Object.keys(n.dataset).length)return null;var a=!0;return Object.keys(o.dataset).forEach(function(s){o.dataset[s]!==n.dataset[s]&&(a=!1)}),a?r:null}function ae(e){var t=e.url,r=e.attributes,n=e.onSuccess,o=e.onError,a=q(t,r);a.onerror=o,a.onload=n,document.head.insertBefore(a,document.head.firstElementChild)}function oe(e){var t=e.environment,r=t==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js";delete e.environment,e.sdkBaseUrl&&(r=e.sdkBaseUrl,delete e.sdkBaseUrl);var n=e,o=Object.keys(n).filter(function(u){return typeof n[u]<"u"&&n[u]!==null&&n[u]!==""}).reduce(function(u,c){var d=n[c].toString();return c=ie(c),c.substring(0,4)==="data"||c==="crossorigin"?u.attributes[c]=d:u.queryParams[c]=d,u},{queryParams:{},attributes:{}}),a=o.queryParams,s=o.attributes;return a["merchant-id"]&&a["merchant-id"].indexOf(",")!==-1&&(s["data-merchant-id"]=a["merchant-id"],a["merchant-id"]="*"),{url:"".concat(r,"?").concat(ce(a)),attributes:s}}function ie(e){var t=function(r,n){return(n?"-":"")+r.toLowerCase()};return e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,t)}function ce(e){var t="";return Object.keys(e).forEach(function(r){t.length!==0&&(t+="&"),t+=r+"="+e[r]}),t}function q(e,t){t===void 0&&(t={});var r=document.createElement("script");return r.src=e,Object.keys(t).forEach(function(n){r.setAttribute(n,t[n]),n==="data-csp-nonce"&&r.setAttribute("nonce",t["data-csp-nonce"])}),r}function se(e,t){if(t===void 0&&(t=Promise),M(e,t),typeof document>"u")return t.resolve(null);var r=oe(e),n=r.url,o=r.attributes,a=o["data-namespace"]||"paypal",s=x(a);return o["data-js-sdk-library"]||(o["data-js-sdk-library"]="paypal-js"),ne(n,o)&&s?t.resolve(s):ue({url:n,attributes:o},t).then(function(){var u=x(a);if(u)return u;throw new Error("The window.".concat(a," global variable is not available."))})}function ue(e,t){t===void 0&&(t=Promise),M(e,t);var r=e.url,n=e.attributes;if(typeof r!="string"||r.length===0)throw new Error("Invalid url.");if(typeof n<"u"&&typeof n!="object")throw new Error("Expected attributes to be an object.");return new t(function(o,a){if(typeof document>"u")return o();ae({url:r,attributes:n,onSuccess:function(){return o()},onError:function(){var s=new Error('The script "'.concat(r,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return a(s)}})})}function x(e){return window[e]}function M(e,t){if(typeof e!="object"||e===null)throw new Error("Expected an options object.");var r=e.environment;if(r&&r!=="production"&&r!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof t<"u"&&typeof t!="function")throw new Error("Expected PromisePonyfill to be a function.")}var le=function(e){var t,r=e.options,n=r===void 0?{clientId:"test"}:r,o=e.children,a=e.deferLoading,s=a===void 0?!1:a,u=f.useReducer(ee,{options:i(i({},n),(t={},t[S.DATA_JS_SDK_LIBRARY]=S.DATA_LIBRARY_VALUE,t[S.DATA_SDK_INTEGRATION_SOURCE]=S.DATA_LIBRARY_VALUE,t[g]="".concat(k(n)),t)),loadingStatus:s?l.INITIAL:l.PENDING}),c=u[0],d=u[1];return f.useEffect(function(){if(s===!1&&c.loadingStatus===l.INITIAL)return d({type:p.LOADING_STATUS,value:l.PENDING});if(c.loadingStatus===l.PENDING){var v=!0;return se(c.options).then(function(){v&&d({type:p.LOADING_STATUS,value:l.RESOLVED})}).catch(function(A){console.error("".concat(X," ").concat(A)),v&&d({type:p.LOADING_STATUS,value:{state:l.REJECTED,message:String(A)}})}),function(){v=!1}}},[c.options,s,c.loadingStatus]),N.createElement(K.Provider,{value:i(i({},c),{dispatch:d})},o)};function U(){}f.createContext({cardFieldsForm:null,fields:{},registerField:U,unregisterField:U});export{G as P,le as a};
