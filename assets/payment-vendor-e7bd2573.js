import{r as f,a as T}from"./react-vendor-3b34276d.js";/*!
 * react-paypal-js v8.7.0 (2024-09-16T17:52:54.237Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l;(function(e){e.INITIAL="initial",e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"})(l||(l={}));var p;(function(e){e.LOADING_STATUS="setLoadingStatus",e.RESET_OPTIONS="resetOptions",e.SET_BRAINTREE_INSTANCE="braintreeInstance"})(p||(p={}));var U;(function(e){e.NUMBER="number",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.EXPIRATION_MONTH="expirationMonth",e.EXPIRATION_YEAR="expirationYear",e.POSTAL_CODE="postalCode"})(U||(U={}));var u=function(){return u=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},u.apply(this,arguments)};function M(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function B(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var w="data-react-paypal-script-id",E={DATA_CLIENT_TOKEN:"dataClientToken",DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource",DATA_USER_ID_TOKEN:"dataUserIdToken"},ne="Failed to load the PayPal JS SDK script.",V="paypal",ae="usePayPalScriptReducer must be used within a PayPalScriptProvider";function oe(e){return e===void 0&&(e=V),window[e]}function ie(e){for(var t="",r=0;r<e.length;r++){var n=e[r].charCodeAt(0)*r;e[r+1]&&(n+=e[r+1].charCodeAt(0)*(r-1)),t+=String.fromCharCode(97+Math.abs(n)%26)}return t}function ue(e){var t=e.reactComponentName,r=e.sdkComponentKey,n=e.sdkRequestedComponents,a=n===void 0?"":n,o=e.sdkDataNamespace,i=o===void 0?V:o,s=r.charAt(0).toUpperCase().concat(r.substring(1)),c="Unable to render <".concat(t," /> because window.").concat(i,".").concat(s," is undefined."),d=typeof a=="string"?a:a.join(",");if(!d.includes(r)){var v=[d,r].filter(Boolean).join();c+=`
To fix the issue, add '`.concat(r,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(v,"'}}>`.")}return c}function W(e){var t=e,r=w;t[r];var n=M(t,[r+""]);return"react-paypal-js-".concat(ie(JSON.stringify(n)))}function ce(e){var t=self.document.querySelector("script[".concat(w,'="').concat(e,'"]'));t!=null&&t.parentNode&&t.parentNode.removeChild(t)}function se(e,t){var r,n;switch(t.type){case p.LOADING_STATUS:return typeof t.value=="object"?u(u({},e),{loadingStatus:t.value.state,loadingStatusErrorMessage:t.value.message}):u(u({},e),{loadingStatus:t.value});case p.RESET_OPTIONS:return ce(e.options[w]),u(u({},e),{loadingStatus:l.PENDING,options:u(u((r={},r[E.DATA_SDK_INTEGRATION_SOURCE]=E.DATA_LIBRARY_VALUE,r),t.value),(n={},n[w]="".concat(W(t.value)),n))});case p.SET_BRAINTREE_INSTANCE:return u(u({},e),{braintreePayPalCheckoutInstance:t.value});default:return e}}var F=f.createContext(null);function de(e){if(typeof(e==null?void 0:e.dispatch)=="function"&&e.dispatch.length!==0)return e;throw new Error(ae)}function le(){var e=de(f.useContext(F)),t=u(u({},e),{isInitial:e.loadingStatus===l.INITIAL,isPending:e.loadingStatus===l.PENDING,isResolved:e.loadingStatus===l.RESOLVED,isRejected:e.loadingStatus===l.REJECTED});return[t,e.dispatch]}f.createContext({});var J=function(e){var t,r=e.className,n=r===void 0?"":r,a=e.disabled,o=a===void 0?!1:a,i=e.children,s=e.forceReRender,c=s===void 0?[]:s,d=M(e,["className","disabled","children","forceReRender"]),v=o?{opacity:.38}:{},A="".concat(n," ").concat(o?"paypal-buttons-disabled":"").trim(),m=f.useRef(null),S=f.useRef(null),P=le()[0],D=P.isResolved,_=P.options,j=f.useState(null),R=j[0],Y=j[1],L=f.useState(!0),H=L[0],ee=L[1],te=f.useState(null),C=te[1];function h(){S.current!==null&&S.current.close().catch(function(){})}return!((t=S.current)===null||t===void 0)&&t.updateProps&&S.current.updateProps({message:d.message}),f.useEffect(function(){if(D===!1)return h;var O=oe(_.dataNamespace);if(O===void 0||O.Buttons===void 0)return C(function(){throw new Error(ue({reactComponentName:J.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:_.components,sdkDataNamespace:_[E.DATA_NAMESPACE]}))}),h;var re=function(g,x){Y(x),typeof d.onInit=="function"&&d.onInit(g,x)};try{S.current=O.Buttons(u(u({},d),{onInit:re}))}catch(g){return C(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(g))})}return S.current.isEligible()===!1?(ee(!1),h):(m.current&&S.current.render(m.current).catch(function(g){m.current===null||m.current.children.length===0||C(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(g))})}),h)},B(B([D],c,!0),[d.fundingSource],!1)),f.useEffect(function(){R!==null&&(o===!0?R.disable().catch(function(){}):R.enable().catch(function(){}))},[o,R]),T.createElement(T.Fragment,null,H?T.createElement("div",{ref:m,style:v,className:A}):i)};J.displayName="PayPalButtons";function fe(e,t){var r=document.querySelector('script[src="'.concat(e,'"]'));if(r===null)return null;var n=X(e,t),a=r.cloneNode();if(delete a.dataset.uidAuto,Object.keys(a.dataset).length!==Object.keys(n.dataset).length)return null;var o=!0;return Object.keys(a.dataset).forEach(function(i){a.dataset[i]!==n.dataset[i]&&(o=!1)}),o?r:null}function pe(e){var t=e.url,r=e.attributes,n=e.onSuccess,a=e.onError,o=X(t,r);o.onerror=a,o.onload=n,document.head.insertBefore(o,document.head.firstElementChild)}function ve(e){var t=e.environment,r=t==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js";delete e.environment,e.sdkBaseUrl&&(r=e.sdkBaseUrl,delete e.sdkBaseUrl);var n=e,a=Object.keys(n).filter(function(s){return typeof n[s]<"u"&&n[s]!==null&&n[s]!==""}).reduce(function(s,c){var d=n[c].toString();return c=Se(c),c.substring(0,4)==="data"||c==="crossorigin"?s.attributes[c]=d:s.queryParams[c]=d,s},{queryParams:{},attributes:{}}),o=a.queryParams,i=a.attributes;return o["merchant-id"]&&o["merchant-id"].indexOf(",")!==-1&&(i["data-merchant-id"]=o["merchant-id"],o["merchant-id"]="*"),{url:"".concat(r,"?").concat(Ee(o)),attributes:i}}function Se(e){var t=function(r,n){return(n?"-":"")+r.toLowerCase()};return e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,t)}function Ee(e){var t="";return Object.keys(e).forEach(function(r){t.length!==0&&(t+="&"),t+=r+"="+e[r]}),t}function X(e,t){t===void 0&&(t={});var r=document.createElement("script");return r.src=e,Object.keys(t).forEach(function(n){r.setAttribute(n,t[n]),n==="data-csp-nonce"&&r.setAttribute("nonce",t["data-csp-nonce"])}),r}function me(e,t){if(t===void 0&&(t=Promise),z(e,t),typeof document>"u")return t.resolve(null);var r=ve(e),n=r.url,a=r.attributes,o=a["data-namespace"]||"paypal",i=G(o);return a["data-js-sdk-library"]||(a["data-js-sdk-library"]="paypal-js"),fe(n,a)&&i?t.resolve(i):he({url:n,attributes:a},t).then(function(){var s=G(o);if(s)return s;throw new Error("The window.".concat(o," global variable is not available."))})}function he(e,t){t===void 0&&(t=Promise),z(e,t);var r=e.url,n=e.attributes;if(typeof r!="string"||r.length===0)throw new Error("Invalid url.");if(typeof n<"u"&&typeof n!="object")throw new Error("Expected attributes to be an object.");return new t(function(a,o){if(typeof document>"u")return a();pe({url:r,attributes:n,onSuccess:function(){return a()},onError:function(){var i=new Error('The script "'.concat(r,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return o(i)}})})}function G(e){return window[e]}function z(e,t){if(typeof e!="object"||e===null)throw new Error("Expected an options object.");var r=e.environment;if(r&&r!=="production"&&r!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof t<"u"&&typeof t!="function")throw new Error("Expected PromisePonyfill to be a function.")}var Te=function(e){var t,r=e.options,n=r===void 0?{clientId:"test"}:r,a=e.children,o=e.deferLoading,i=o===void 0?!1:o,s=f.useReducer(se,{options:u(u({},n),(t={},t[E.DATA_JS_SDK_LIBRARY]=E.DATA_LIBRARY_VALUE,t[E.DATA_SDK_INTEGRATION_SOURCE]=E.DATA_LIBRARY_VALUE,t[w]="".concat(W(n)),t)),loadingStatus:i?l.INITIAL:l.PENDING}),c=s[0],d=s[1];return f.useEffect(function(){if(i===!1&&c.loadingStatus===l.INITIAL)return d({type:p.LOADING_STATUS,value:l.PENDING});if(c.loadingStatus===l.PENDING){var v=!0;return me(c.options).then(function(){v&&d({type:p.LOADING_STATUS,value:l.RESOLVED})}).catch(function(A){console.error("".concat(ne," ").concat(A)),v&&d({type:p.LOADING_STATUS,value:{state:l.REJECTED,message:String(A)}})}),function(){v=!1}}},[c.options,i,c.loadingStatus]),T.createElement(F.Provider,{value:u(u({},c),{dispatch:d})},a)};function q(){}f.createContext({cardFieldsForm:null,fields:{},registerField:q,unregisterField:q});var $="https://js.stripe.com/v3",ge=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,k="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",be=function(){for(var t=document.querySelectorAll('script[src^="'.concat($,'"]')),r=0;r<t.length;r++){var n=t[r];if(ge.test(n.src))return n}return null},K=function(t){var r=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat($).concat(r);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(n),n},ye=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"5.1.0",startTime:r})},b=null,N=null,I=null,we=function(t){return function(){t(new Error("Failed to load Stripe.js"))}},Ae=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},Re=function(t){return b!==null?b:(b=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe&&t&&console.warn(k),window.Stripe){r(window.Stripe);return}try{var a=be();if(a&&t)console.warn(k);else if(!a)a=K(t);else if(a&&I!==null&&N!==null){var o;a.removeEventListener("load",I),a.removeEventListener("error",N),(o=a.parentNode)===null||o===void 0||o.removeChild(a),a=K(t)}I=Ae(r,n),N=we(n),a.addEventListener("load",I),a.addEventListener("error",N)}catch(i){n(i);return}}),b.catch(function(r){return b=null,Promise.reject(r)}))},Ne=function(t,r,n){if(t===null)return null;var a=t.apply(void 0,r);return ye(a,n),a},y,Z=!1,Q=function(){return y||(y=Re(null).catch(function(t){return y=null,Promise.reject(t)}),y)};Promise.resolve().then(function(){return Q()}).catch(function(e){Z||console.warn(e)});var _e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];Z=!0;var a=Date.now();return Q().then(function(o){return Ne(o,r,a)})};export{J as P,Te as a,_e as l};
